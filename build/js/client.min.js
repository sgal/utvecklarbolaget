(function(a,b){"function"===typeof define&&define.amd?define(["jquery"],function(){return b.apply(a,arguments)}):"object"===typeof module&&module.exports?module.exports=b.call(a,require("jquery")):b.call(a,a.jQuery)})("object"===typeof global?global:this,function(a){function b(d,r,l,b){if("d"!=l&&z(d)){var u=K.exec(r),g="auto"===d.css(l)?0:d.css(l),g="string"==typeof g?p(g):g;"string"==typeof r&&p(r);b=!0===b?0:g;var f=d.is(":hidden"),c=d.translation();"left"==l&&(b=parseInt(g,10)+c.x);"right"==l&&
(b=parseInt(g,10)+c.x);"top"==l&&(b=parseInt(g,10)+c.y);"bottom"==l&&(b=parseInt(g,10)+c.y);if(u||"show"!=r)u||"hide"!=r||(b=0);else if(b=1,f)elem=d[0],elem.style&&(display=elem.style.display,a._data(elem,"olddisplay")||"none"!==display||(display=elem.style.display=""),""===display&&"none"===a.css(elem,"display")&&a._data(elem,"olddisplay",h(elem.tagName)),""===display||"none"===display)&&(elem.style.display=a._data(elem,"olddisplay")||""),d.css("opacity",0);return u?(d=parseFloat(u[2]),u[1]&&(d=
("-="===u[1]?-1:1)*d+parseInt(b,10)),u[3]&&"px"!=u[3]&&(d+=u[3]),d):b}}function c(d,r,b,l,u,g,c,e){var w=d.data(x),w=w&&!k(w)?w:a.extend(!0,{},L),y=u;if(-1<a.inArray(r,v)){var q=w.meta,m=p(d.css(r))||0,t=r+"_o",y=u-m;q[r]=y;q[t]="auto"==d.css(r)?0+y:m+y||0;w.meta=q;c&&0===y&&(y=0-q[t],q[r]=y,q[t]=0)}return d.data(x,f(d,w,r,b,l,y,g,c,e))}function f(d,a,b,l,c,g,f,e,w){var t=!1;f=!0===f&&!0===e;a=a||{};a.original||(a.original={},t=!0);a.properties=a.properties||{};a.secondary=a.secondary||{};e=a.meta;
for(var m=a.original,k=a.properties,h=a.secondary,n=q.length-1;0<=n;n--){var v=q[n]+"transition-property",s=q[n]+"transition-duration",p=q[n]+"transition-timing-function";b=f?q[n]+"transform":b;t&&(m[v]=d.css(v)||"",m[s]=d.css(s)||"",m[p]=d.css(p)||"");var M=h,x=b,A;if(f){A=e.left;var G=e.top;A=!0===w||!0===E&&!1!==w&&H?"translate3d("+A+"px, "+G+"px, 0)":"translate("+A+"px,"+G+"px)"}else A=g;M[x]=A;k[v]=(k[v]?k[v]+",":"")+b;k[s]=(k[s]?k[s]+",":"")+l+"ms";k[p]=(k[p]?k[p]+",":"")+c}return a}function e(d){for(var a in d)if(!("width"!=
a&&"height"!=a||"show"!=d[a]&&"hide"!=d[a]&&"toggle"!=d[a]))return!0;return!1}function k(d){for(var a in d)return!1;return!0}function h(d){d=d.toUpperCase();var a={LI:"list-item",TR:"table-row",TD:"table-cell",TH:"table-cell",CAPTION:"table-caption",COL:"table-column",COLGROUP:"table-column-group",TFOOT:"table-footer-group",THEAD:"table-header-group",TBODY:"table-row-group"};return"string"==typeof a[d]?a[d]:"block"}function p(d){return parseFloat(d.replace(d.match(/\D+$/),""))}function z(d){var a=
!0;d.each(function(d,b){return a=a&&b.ownerDocument});return a}function s(d,b,l){if(!z(l))return!1;var c=-1<a.inArray(d,m);"width"!=d&&"height"!=d&&"opacity"!=d||parseFloat(b)!==parseFloat(l.css(d))||(c=!1);return c}var l=a.fn.animate,t=a.fn.stop,m="top right bottom left opacity height width".split(" "),v=["top","right","bottom","left"],q=["-webkit-","-moz-","-o-",""],N=["avoidTransforms","useTranslate3d","leaveTransforms"],K=/^([+-]=)?([\d+-.]+)(.*)$/,O=/([A-Z])/g,L={secondary:{},meta:{top:0,right:0,
bottom:0,left:0}},x="jQe",I=null,C=!1,D=(document.body||document.documentElement).style,J=void 0!==D.WebkitTransition||void 0!==D.MozTransition||void 0!==D.OTransition||void 0!==D.transition,H="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,E=H;a.expr&&a.expr.filters&&(I=a.expr.filters.animated,a.expr.filters.animated=function(d){return a(d).data("events")&&a(d).data("events")["webkitTransitionEnd oTransitionEnd transitionend"]?!0:I.call(this,d)});a.extend({toggle3DByDefault:function(){return E=
!E},toggleDisabledByDefault:function(){return C=!C},setDisabledByDefault:function(a){return C=a}});a.fn.translation=function(){if(!this[0])return null;var a=window.getComputedStyle(this[0],null),b={x:0,y:0};if(a)for(var l=q.length-1;0<=l;l--){var c=a.getPropertyValue(q[l]+"transform");if(c&&/matrix/i.test(c)){a=c.replace(/^matrix\(/i,"").split(/, |\)$/g);b={x:parseInt(a[4],10),y:parseInt(a[5],10)};break}}return b};a.fn.animate=function(d,f,m,t){d=d||{};var u=!("undefined"!==typeof d.bottom||"undefined"!==
typeof d.right),g=a.speed(f,m,t),B=0,h=function(){B--;0===B&&"function"===typeof g.complete&&g.complete.apply(this,arguments)};return!0===("undefined"!==typeof d.avoidCSSTransitions?d.avoidCSSTransitions:C)||!J||k(d)||e(d)||0>=g.duration||g.step?l.apply(this,arguments):this[!0===g.queue?"queue":"each"](function(){var f=a(this),e=a.extend({},g),m=function(b){var l=f.data(x)||{original:{}},c={};if(2==b.eventPhase){if(!0!==d.leaveTransforms){for(b=q.length-1;0<=b;b--)c[q[b]+"transform"]="";if(u&&"undefined"!==
typeof l.meta){b=0;for(var e;e=v[b];++b){var g=l.meta[e+"_o"];g&&(c[e]=g+"px",a(this).css(e,c[e]))}}}f.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(l.original).css(c).data(x,null);"hide"===d.opacity&&(elem=f[0],elem.style&&(display=a.css(elem,"display"),"none"===display||a._data(elem,"olddisplay")||a._data(elem,"olddisplay",display),elem.style.display="none"),f.css("opacity",""));h.call(this)}},t={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",
easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",
easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",
easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},r={},t=t[e.easing||"swing"]?t[e.easing||"swing"]:e.easing||"swing",n;for(n in d)if(-1===a.inArray(n,N)){var p=-1<a.inArray(n,v),F=b(f,d[n],n,p&&!0!==d.avoidTransforms);s(n,F,f)?c(f,n,e.duration,t,F,p&&!0!==d.avoidTransforms,u,d.useTranslate3d):r[n]=d[n]}f.unbind("webkitTransitionEnd oTransitionEnd transitionend");
n=f.data(x);if(!n||k(n)||k(n.secondary))e.queue=!1;else{B++;f.css(n.properties);var z=n.secondary;setTimeout(function(){f.bind("webkitTransitionEnd oTransitionEnd transitionend",m).css(z)})}k(r)||(B++,l.apply(f,[r,{duration:e.duration,easing:a.easing[e.easing]?e.easing:a.easing.swing?"swing":"linear",complete:h,queue:e.queue}]));return!0})};a.fn.animate.defaults={};a.fn.stop=function(b,l,f){if(!J)return t.apply(this,[b,l]);b&&this.queue([]);this.each(function(){var c=a(this),e=c.data(x);if(e&&!k(e)){var g,
m={};if(l){if(m=e.secondary,!f&&void 0!==typeof e.meta.left_o||void 0!==typeof e.meta.top_o)for(m.left=void 0!==typeof e.meta.left_o?e.meta.left_o:"auto",m.top=void 0!==typeof e.meta.top_o?e.meta.top_o:"auto",g=q.length-1;0<=g;g--)m[q[g]+"transform"]=""}else if(!k(e.secondary)){var v=window.getComputedStyle(c[0],null);if(v)for(var h in e.secondary)if(e.secondary.hasOwnProperty(h)&&(h=h.replace(O,"-$1").toLowerCase(),m[h]=v.getPropertyValue(h),!f&&/matrix/i.test(m[h])))for(g=m[h].replace(/^matrix\(/i,
"").split(/, |\)$/g),m.left=parseFloat(g[4])+parseFloat(c.css("left"))+"px"||"auto",m.top=parseFloat(g[5])+parseFloat(c.css("top"))+"px"||"auto",g=q.length-1;0<=g;g--)m[q[g]+"transform"]=""}c.unbind("webkitTransitionEnd oTransitionEnd transitionend");c.css(e.original).css(m).data(x,null)}else t.apply(c,[b,l])});return this}});(function(a){a.extend({debounce:function(a,c,f,e){3==arguments.length&&"boolean"!=typeof f&&(e=f,f=!1);var k;return function(){var h=arguments;e=e||this;f&&!k&&a.apply(e,h);clearTimeout(k);k=setTimeout(function(){!f&&a.apply(e,h);k=null},c)}},throttle:function(a,c,f){var e,k,h;return function(){k=arguments;h=!0;f=f||this;e||function(){h?(a.apply(f,k),h=!1,e=setTimeout(arguments.callee,c)):e=null}()}}})})(jQuery);(function(a){a.fn.shorten=function(b){var c={showChars:100,ellipsesText:"...",moreText:"more",lessText:"less"};b&&a.extend(c,b);a(document).off("click",".morelink");a(document).on({click:function(){var b=a(this);b.hasClass("less")?(b.removeClass("less"),b.html(c.moreText)):(b.addClass("less"),b.html(c.lessText));b.parent().prev().toggle();b.prev().toggle();return!1}},".morelink");return this.each(function(){var b=a(this);if(!b.hasClass("shortened")){b.addClass("shortened");var e=b.html().split(" ");
if(e.length>c.showChars){var k=e.slice(0,c.showChars).join(" "),e=" "+e.slice(c.showChars).join(" ");b.html(k+'<span class="moreellipses">'+c.ellipsesText+' </span><span class="morecontent"><span>'+e+'</span> <a href="#" class="morelink">'+c.moreText+"</a></span>");a(".morecontent span").hide()}}})}})(jQuery);var StateHistory=function(){var a=[];return{pushState:function(b){b=0==b.indexOf("#")?b:"#"+b;if(history.pushState)history.pushState(b,b,b);else{var c=$(b);c.removeAttr("id");window.location.hash=b;c.attr("id",b.substr(1))}for(c=0;c<a.length;c++)a[c](b)},getState:function(){return history.state||-1!=window.location.hash.indexOf("#")?window.location.hash:"#"+window.location.hash},onStateChanged:function(b){a.push(b)}}};var md=new MobileDetect(window.navigator.userAgent);md.mobile()&&$("html").addClass("mobile");md.phone()&&$("html").addClass("phone");
$(document).ready(function(){function a(){var a=navigator.userAgent;return-1!=a.indexOf("MSIE 9.0")||-1!=a.indexOf("MSIE 8.0")||-1!=a.indexOf("MSIE 7.0")||-1!=a.indexOf("MSIE 6.0")}function b(){var a,e,c,f="w_"+parseInt($(window).width());b.cachedResults||(b.cachedResults={});if(b.cachedResults[f])c=b.cachedResults[f].mainImgHeight,a=b.cachedResults[f].sideLength,e=b.cachedResults[f].topLength;else{c=$(".front").css("background-size");var h=parseInt($(window).width()),p=1;a=h/2;e=0.0931*a;c&&-1!=
c.indexOf("px")?p=parseInt(c)/h:c&&-1!=c.indexOf("%")&&(p=parseInt(c.split(" ")[0])/100);c=Math.floor(h/k*p);b.cachedResults[f]={mainImgHeight:c,sideLength:a,topLength:e}}$(".front .container").css("height",c);$(".chevron").css({"border-left-width":a,"border-right-width":a,"border-top-width":e})}function c(){var a=s.getState().substr(1),a=$(".menu-item.menu-"+a);a.hasClass("active")||($(".menu-item").removeClass("active"),a.addClass("active"))}function f(a){if(p)p=!1;else if(!h){var b=s.getState().substr(1);
console.log(b);$(".section").each(function(){$(this).offset().top<window.pageYOffset+200&&$(this).offset().top+$(this).height()>window.pageYOffset+200&&(b!=$(this).attr("id")?(console.log("Not on current"),s.pushState($(this).attr("id")),"home"===b?$(".sticky-menu-desktop").addClass("sticked"):"home"===$(this).attr("id")&&$(".sticky-menu-desktop").removeClass("sticked")):!0===z&&"home"!==$(this).attr("id")&&$(".sticky-menu-desktop").addClass("sticked"))})}}function e(){$(".sticky-menu").hasClass("active")?
($(window).on("touchmove",function(a){a.preventDefault();return!1}),window.navigator.msPointerEnabled&&this.element.addEventListener("MSPointerMove",function(a){return!1},!1)):($(window).off("touchmove"),window.navigator.msPointerEnabled&&this.element.removeEventListener("MSPointerMove"))}var k=2.511,h=!1,p=!1,z=!0,s=new StateHistory;b();f();z=!1;$(window).resize(function(){b()});window.addEventListener&&window.addEventListener("orientationchange",b,!1);$(".mobile .window-wrap").click(function(a){a.stopPropagation();
$(this).parent().find(".text").slideToggle("fast");$(this).toggleClass("opened")});$("a[href*=#]:not([href=#])").click(function(b){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var c=$(this.hash),e=this.hash,f=0,c=c.length?c:$("[name="+this.hash.slice(1)+"]");c.length&&(a()?s.pushState(e):(b.preventDefault(),b.stopPropagation(),h=!0,f=c.offset().top,md.phone()&&"IE"===md.userAgent()?(window.scrollTo(0,f),h=!1,p=!0,s.pushState(e)):$("html, body").animate({scrollTop:f},
500,function(){h=!1;p=!0;s.pushState(e)})))}});md.mobile()||($(window).on("scroll",$.throttle(f,100)),$(".hover-expandable").mouseover(function(a){a.stopPropagation();$(this).data("width")||$(this).data("width",$(this).outerWidth());a=parseInt($(this).data("width"));$(this).parent().css("right",a-50)}),$(".hover-expandable").mouseout(function(a){a.stopPropagation();$(this).parent().css("right",0)}),s.getState()&&c(),s.onStateChanged(function(a){c();"#home"==a?$(".menu-home").hide():$(".menu-home").show()}));
$(".mobile .opener a").click(function(a){a.preventDefault();$(".sticky-menu").toggleClass("active");$(".blurred").toggle();e()});$(".blurred, .mobile .menu-item-wrap:not(.opener) a").click(function(a){$(".sticky-menu").removeClass("active");$(".blurred").hide();e()});$(window).on("hashchange",function(a){a.preventDefault()});md.phone()||$("#areas .text").shorten({showChars:80,moreText:"More",lessText:"Less"})});

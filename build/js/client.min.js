(function(a,b){"function"===typeof define&&define.amd?define(["jquery"],function(){return b.apply(a,arguments)}):"object"===typeof module&&module.exports?module.exports=b.call(a,require("jquery")):b.call(a,a.jQuery)})("object"===typeof global?global:this,function(a){function b(c,s,m,b){if("d"!=m&&k(c)){var v=J.exec(s),h="auto"===c.css(m)?0:c.css(m),h="string"==typeof h?t(h):h;"string"==typeof s&&t(s);b=!0===b?0:h;var g=c.is(":hidden"),d=c.translation();"left"==m&&(b=parseInt(h,10)+d.x);"right"==m&&
(b=parseInt(h,10)+d.x);"top"==m&&(b=parseInt(h,10)+d.y);"bottom"==m&&(b=parseInt(h,10)+d.y);if(v||"show"!=s)v||"hide"!=s||(b=0);else if(b=1,g)elem=c[0],elem.style&&(display=elem.style.display,a._data(elem,"olddisplay")||"none"!==display||(display=elem.style.display=""),""===display&&"none"===a.css(elem,"display")&&a._data(elem,"olddisplay",r(elem.tagName)),""===display||"none"===display)&&(elem.style.display=a._data(elem,"olddisplay")||""),c.css("opacity",0);return v?(c=parseFloat(v[2]),v[1]&&(c=
("-="===v[1]?-1:1)*c+parseInt(b,10)),v[3]&&"px"!=v[3]&&(c+=v[3]),c):b}}function d(c,s,b,m,v,h,d,e){var w=c.data(x),w=w&&!n(w)?w:a.extend(!0,{},K),y=v;if(-1<a.inArray(s,C)){var f=w.meta,u=t(c.css(s))||0,l=s+"_o",y=v-u;f[s]=y;f[l]="auto"==c.css(s)?0+y:u+y||0;w.meta=f;d&&0===y&&(y=0-f[l],f[s]=y,f[l]=0)}return c.data(x,g(c,w,s,b,m,y,h,d,e))}function g(c,a,b,m,d,h,g,f,w){var e=!1;g=!0===g&&!0===f;a=a||{};a.original||(a.original={},e=!0);a.properties=a.properties||{};a.secondary=a.secondary||{};f=a.meta;
for(var n=a.original,l=a.properties,r=a.secondary,p=u.length-1;0<=p;p--){var k=u[p]+"transition-property",q=u[p]+"transition-duration",t=u[p]+"transition-timing-function";b=g?u[p]+"transform":b;e&&(n[k]=c.css(k)||"",n[q]=c.css(q)||"",n[t]=c.css(t)||"");var L=r,x=b,z;if(g){z=f.left;var F=f.top;z=!0===w||!0===D&&!1!==w&&G?"translate3d("+z+"px, "+F+"px, 0)":"translate("+z+"px,"+F+"px)"}else z=h;L[x]=z;l[k]=(l[k]?l[k]+",":"")+b;l[q]=(l[q]?l[q]+",":"")+m+"ms";l[t]=(l[t]?l[t]+",":"")+d}return a}function e(c){for(var a in c)if(!("width"!=
a&&"height"!=a||"show"!=c[a]&&"hide"!=c[a]&&"toggle"!=c[a]))return!0;return!1}function n(c){for(var a in c)return!1;return!0}function r(c){c=c.toUpperCase();var a={LI:"list-item",TR:"table-row",TD:"table-cell",TH:"table-cell",CAPTION:"table-caption",COL:"table-column",COLGROUP:"table-column-group",TFOOT:"table-footer-group",THEAD:"table-header-group",TBODY:"table-row-group"};return"string"==typeof a[c]?a[c]:"block"}function t(c){return parseFloat(c.replace(c.match(/\D+$/),""))}function k(c){var a=
!0;c.each(function(c,b){return a=a&&b.ownerDocument});return a}function m(c,b,m){if(!k(m))return!1;var d=-1<a.inArray(c,q);"width"!=c&&"height"!=c&&"opacity"!=c||parseFloat(b)!==parseFloat(m.css(c))||(d=!1);return d}var l=a.fn.animate,f=a.fn.stop,q="top right bottom left opacity height width".split(" "),C=["top","right","bottom","left"],u=["-webkit-","-moz-","-o-",""],M=["avoidTransforms","useTranslate3d","leaveTransforms"],J=/^([+-]=)?([\d+-.]+)(.*)$/,N=/([A-Z])/g,K={secondary:{},meta:{top:0,right:0,
bottom:0,left:0}},x="jQe",H=null,A=!1,B=(document.body||document.documentElement).style,I=void 0!==B.WebkitTransition||void 0!==B.MozTransition||void 0!==B.OTransition||void 0!==B.transition,G="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,D=G;a.expr&&a.expr.filters&&(H=a.expr.filters.animated,a.expr.filters.animated=function(c){return a(c).data("events")&&a(c).data("events")["webkitTransitionEnd oTransitionEnd transitionend"]?!0:H.call(this,c)});a.extend({toggle3DByDefault:function(){return D=
!D},toggleDisabledByDefault:function(){return A=!A},setDisabledByDefault:function(a){return A=a}});a.fn.translation=function(){if(!this[0])return null;var a=window.getComputedStyle(this[0],null),b={x:0,y:0};if(a)for(var m=u.length-1;0<=m;m--){var d=a.getPropertyValue(u[m]+"transform");if(d&&/matrix/i.test(d)){a=d.replace(/^matrix\(/i,"").split(/, |\)$/g);b={x:parseInt(a[4],10),y:parseInt(a[5],10)};break}}return b};a.fn.animate=function(c,g,f,k){c=c||{};var v=!("undefined"!==typeof c.bottom||"undefined"!==
typeof c.right),h=a.speed(g,f,k),q=0,r=function(){q--;0===q&&"function"===typeof h.complete&&h.complete.apply(this,arguments)};return!0===("undefined"!==typeof c.avoidCSSTransitions?c.avoidCSSTransitions:A)||!I||n(c)||e(c)||0>=h.duration||h.step?l.apply(this,arguments):this[!0===h.queue?"queue":"each"](function(){var g=a(this),f=a.extend({},h),e=function(b){var m=g.data(x)||{original:{}},f={};if(2==b.eventPhase){if(!0!==c.leaveTransforms){for(b=u.length-1;0<=b;b--)f[u[b]+"transform"]="";if(v&&"undefined"!==
typeof m.meta){b=0;for(var d;d=C[b];++b){var h=m.meta[d+"_o"];h&&(f[d]=h+"px",a(this).css(d,f[d]))}}}g.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(m.original).css(f).data(x,null);"hide"===c.opacity&&(elem=g[0],elem.style&&(display=a.css(elem,"display"),"none"===display||a._data(elem,"olddisplay")||a._data(elem,"olddisplay",display),elem.style.display="none"),g.css("opacity",""));r.call(this)}},k={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",
easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",
easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",
easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},s={},k=k[f.easing||"swing"]?k[f.easing||"swing"]:f.easing||"swing",p;for(p in c)if(-1===a.inArray(p,M)){var t=-1<a.inArray(p,C),E=b(g,c[p],p,t&&!0!==c.avoidTransforms);m(p,E,g)?d(g,p,f.duration,k,E,t&&!0!==c.avoidTransforms,v,c.useTranslate3d):s[p]=c[p]}g.unbind("webkitTransitionEnd oTransitionEnd transitionend");
p=g.data(x);if(!p||n(p)||n(p.secondary))f.queue=!1;else{q++;g.css(p.properties);var A=p.secondary;setTimeout(function(){g.bind("webkitTransitionEnd oTransitionEnd transitionend",e).css(A)})}n(s)||(q++,l.apply(g,[s,{duration:f.duration,easing:a.easing[f.easing]?f.easing:a.easing.swing?"swing":"linear",complete:r,queue:f.queue}]));return!0})};a.fn.animate.defaults={};a.fn.stop=function(b,m,g){if(!I)return f.apply(this,[b,m]);b&&this.queue([]);this.each(function(){var d=a(this),l=d.data(x);if(l&&!n(l)){var h,
e={};if(m){if(e=l.secondary,!g&&void 0!==typeof l.meta.left_o||void 0!==typeof l.meta.top_o)for(e.left=void 0!==typeof l.meta.left_o?l.meta.left_o:"auto",e.top=void 0!==typeof l.meta.top_o?l.meta.top_o:"auto",h=u.length-1;0<=h;h--)e[u[h]+"transform"]=""}else if(!n(l.secondary)){var k=window.getComputedStyle(d[0],null);if(k)for(var q in l.secondary)if(l.secondary.hasOwnProperty(q)&&(q=q.replace(N,"-$1").toLowerCase(),e[q]=k.getPropertyValue(q),!g&&/matrix/i.test(e[q])))for(h=e[q].replace(/^matrix\(/i,
"").split(/, |\)$/g),e.left=parseFloat(h[4])+parseFloat(d.css("left"))+"px"||"auto",e.top=parseFloat(h[5])+parseFloat(d.css("top"))+"px"||"auto",h=u.length-1;0<=h;h--)e[u[h]+"transform"]=""}d.unbind("webkitTransitionEnd oTransitionEnd transitionend");d.css(l.original).css(e).data(x,null)}else f.apply(d,[b,m])});return this}});(function(a){a.extend({debounce:function(a,d,g,e){3==arguments.length&&"boolean"!=typeof g&&(e=g,g=!1);var n;return function(){var r=arguments;e=e||this;g&&!n&&a.apply(e,r);clearTimeout(n);n=setTimeout(function(){!g&&a.apply(e,r);n=null},d)}},throttle:function(a,d,g){var e,n,r;return function(){n=arguments;r=!0;g=g||this;e||function(){r?(a.apply(g,n),r=!1,e=setTimeout(arguments.callee,d)):e=null}()}}})})(jQuery);(function(a){a.fn.shorten=function(b){var d={showChars:100,ellipsesText:"...",moreText:"more",lessText:"less"};b&&a.extend(d,b);a(document).off("click",".morelink");a(document).on({click:function(){var b=a(this);b.hasClass("less")?(b.removeClass("less"),b.html(d.moreText)):(b.addClass("less"),b.html(d.lessText));b.parent().prev().toggle();b.prev().toggle();return!1}},".morelink");return this.each(function(){var b=a(this);if(!b.hasClass("shortened")){b.addClass("shortened");var e=b.html().split(" ");
if(e.length>d.showChars){var n=e.slice(0,d.showChars).join(" "),e=" "+e.slice(d.showChars).join(" ");b.html(n+'<span class="moreellipses">'+d.ellipsesText+' </span><span class="morecontent"><span>'+e+'</span> <a href="#" class="morelink">'+d.moreText+"</a></span>");a(".morecontent span").hide()}}})}})(jQuery);var StateHistory=function(){var a=[];return{pushState:function(b){b=0==b.indexOf("#")?b:"#"+b;if(history.pushState)history.pushState(b,b,b);else{var d=$(b);d.removeAttr("id");window.location.hash=b;d.attr("id",b.substr(1))}for(d=0;d<a.length;d++)a[d](b)},getState:function(){return history.state||-1!=window.location.hash.indexOf("#")?window.location.hash:"#"+window.location.hash},onStateChanged:function(b){a.push(b)}}};var md=new MobileDetect(window.navigator.userAgent);md.mobile()&&$("html").addClass("mobile");md.phone()&&$("html").addClass("phone");
$(document).ready(function(){function a(){var a=navigator.userAgent;return-1!=a.indexOf("MSIE 9.0")||-1!=a.indexOf("MSIE 8.0")||-1!=a.indexOf("MSIE 7.0")||-1!=a.indexOf("MSIE 6.0")}function b(){var a,d,f,e="w_"+parseInt($(window).width());b.cachedResults||(b.cachedResults={});if(b.cachedResults[e])f=b.cachedResults[e].mainImgHeight,a=b.cachedResults[e].sideLength,d=b.cachedResults[e].topLength;else{f=$(".front").css("background-size");var g=parseInt($(window).width()),k=1;a=g/2;d=0.0931*a;f&&-1!=
f.indexOf("px")?k=parseInt(f)/g:f&&-1!=f.indexOf("%")&&(k=parseInt(f.split(" ")[0])/100);f=Math.floor(g/n*k);b.cachedResults[e]={mainImgHeight:f,sideLength:a,topLength:d}}$(".front .container").css("height",f);$(".chevron").css({"border-left-width":a,"border-right-width":a,"border-top-width":d})}function d(){var a=k.getState().substr(1),a=$(".menu-item-wrap.menu-"+a);a.hasClass("active")||($(".menu-item-wrap").removeClass("active"),a.addClass("active"))}function g(a){if(t)t=!1;else if(!r){var b=k.getState().substr(1);
$(".section").each(function(){$(this).offset().top<window.pageYOffset+200&&$(this).offset().top+$(this).height()>window.pageYOffset+200&&b!=$(this).attr("id")&&k.pushState($(this).attr("id"))})}}function e(){$(".sticky-menu").hasClass("active")?($(window).on("touchmove",function(a){a.preventDefault();return!1}),window.navigator.msPointerEnabled&&this.element.addEventListener("MSPointerMove",function(a){return!1},!1)):($(window).off("touchmove"),window.navigator.msPointerEnabled&&this.element.removeEventListener("MSPointerMove"))}
var n=2.511,r=!1,t=!1,k=new StateHistory;b();$(window).resize(function(){b()});window.addEventListener&&window.addEventListener("orientationchange",b,!1);$(".mobile .window-wrap").click(function(a){a.stopPropagation();$(this).parent().find(".text").slideToggle("fast");$(this).toggleClass("opened")});$("a[href*=#]:not([href=#])").click(function(b){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var d=$(this.hash),f=this.hash,e=0,d=d.length?
d:$("[name="+this.hash.slice(1)+"]");d.length&&(a()?k.pushState(f):(b.preventDefault(),b.stopPropagation(),r=!0,e=d.offset().top,md.phone()&&"IE"===md.userAgent()?(window.scrollTo(0,e),r=!1,t=!0,k.pushState(f)):$("html, body").animate({scrollTop:e},500,function(){r=!1;t=!0;k.pushState(f)})))}});md.mobile()||($(window).on("scroll",$.throttle(g,100)),$(".hover-expandable").mouseover(function(a){a.stopPropagation();$(this).data("width")||$(this).data("width",$(this).outerWidth());a=parseInt($(this).data("width"));
$(this).parent().css("right",a-50)}),$(".hover-expandable").mouseout(function(a){a.stopPropagation();$(this).parent().css("right",0)}),k.getState()&&d(),k.onStateChanged(function(a){d();"#home"==a?$(".menu-home").hide():$(".menu-home").show()}));$(".mobile .opener a").click(function(a){a.preventDefault();$(".sticky-menu").toggleClass("active");$(".blurred").toggle();e()});$(".blurred, .mobile .menu-item-wrap:not(.opener) a").click(function(a){$(".sticky-menu").removeClass("active");$(".blurred").hide();
e()});$(window).on("hashchange",function(a){a.preventDefault()});md.phone()||$("#areas .text").shorten({showChars:80,moreText:"More",lessText:"Less"})});
